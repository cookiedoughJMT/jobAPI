
# ================================== KTS ========================

def generate_json_kts_prompt(
        keyword, personality
):
    return f"""
    다음은 사용자로부터 입력된 정보입니다:
    - 성격: "{personality}"
    - 키워드: "{keyword}"

    요구사항:
    1. 아래 형식에 맞춰 **총 3개의 서로 다른 문장**을 만들어주세요.
    2. 각 문장은 약 2~4문장 정도 분량의 짧은 에세이처럼 구성해주세요.
    3. 성격은 문장의 중심 성격으로 녹여내고, 키워드는 해당 경험이나 행동으로 자연스럽게 반영해주세요.
    4. 문장을 모두 면접관에게 말하듯 '저는'으로 시작되는 존댓말 어조로 써주세요.
    5. 전체를 **JSON 형식**으로 반환해주세요. `"sentences"` 배열로 만들어주세요.

    응답 예시 (JSON only):
    {{
        "sentences": [
            "첫 번째 성장 배경 문장입니다...",
            "두 번째 성장 배경 문장입니다...",
            "세 번째 성장 배경 문장입니다..."
        ]
    }}
    """
# end def

# ==================================keywordextractor ========================

def generate_json_keywordextractor_prompt(sentence: str, personality: str, type: str) -> str:
    return f"""
당신은 입력 문장에서 핵심 키워드를 추출하는 역할입니다.

다음 문장이 주어집니다:
"{sentence}"

---

📌 키워드 추출 규칙:

1. 문장이 충분히 의미를 가진 경우:
   - 문장에서 핵심 키워드만 추출하세요.
   - 조사, 감탄사, 불필요한 접속사는 제거하세요.
   - 의미 있는 단어: 명사, 고유명사, 핵심 동사 등

2. 문장이 다음 조건 중 하나라도 해당된다면 **의미 없는 문장**으로 판단합니다:
   - 한 글자 또는 두 글자
   - 의미 없는 조합 (예: "ㅋㅋ", "하", "d", "ㅎㅇ", "123", "..." 등)
   - 구조가 없는 단어 (주어/동사 없음)
   → 이 경우, 아래 정보를 참고하여 GPT가 **직접 키워드를 생성**해야 합니다:
     - 성격 (personality): "{personality}"
     - 키워드 유형 (type): "{type}"

---

🎯 출력 형식 (반드시 JSON 객체로만 응답):

예시 1: 문장이 충분히 의미 있을 때
{{
  "keywords": ["인공지능", "기술", "자율주행"],
  "recommend": false
}}

예시 2: 문장이 무의미할 때 GPT가 생성한 경우
{{
  "keywords": ["책임감", "성실함", "끈기"],
  "recommend": true
}}

❗주의사항:
- 반드시 "recommend" 필드를 포함하세요 (true or false)
- JSON 외 텍스트를 절대 포함하지 마세요
"""

